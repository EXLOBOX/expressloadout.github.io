<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title id="meta-title">Blog y Noticias | Express Loadout</title>
  <meta name="description" content="Noticias, novedades y referencias de compras en Amazon con Express Loadout. Descubre tips, ofertas y novedades para importar a Panamá." id="meta-description" />
  <meta name="keywords" content="blog, noticias, amazon, compras, importaciones, Panamá, Express Loadout" />
  <meta name="author" content="Express Loadout" />
  <!-- SEO y redes sociales -->
  <meta property="og:title" content="Blog y Noticias | Express Loadout" id="og-title" />
  <meta property="og:description" content="Noticias, novedades y referencias de compras en Amazon con Express Loadout. Descubre tips, ofertas y novedades para importar a Panamá." id="og-description" />
  <meta property="og:image" content="https://expressloadout.com/images/banner%20Open%20Grap%20OG%20TwitterCards.png" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://expressloadout.com/bloq.html" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Blog y Noticias | Express Loadout" id="twitter-title" />
  <meta name="twitter:description" content="Noticias, novedades y referencias de compras en Amazon con Express Loadout. Descubre tips, ofertas y novedades para importar a Panamá." id="twitter-description" />
  <meta name="twitter:image" content="https://expressloadout.com/images/banner%20Open%20Grap%20OG%20TwitterCards.png" />
  <link rel="icon" href="images/LOGO%20Favicon.png" type="image/png">
  <link rel="stylesheet" href="style.css" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>
</head>
<body>
  <header>
    <img src="images/LOGO Amarillo 2x2 - Alteracion.png" alt="Logo Express Loadout" style="height: 60px; margin-right: 15px;">
    <h1 id="header-title">Express Loadout</h1>
    <nav>
      <a href="index2.html" id="nav-home">Inicio</a>
      <a href="registro.html" id="nav-register">Solicita tu Casillero</a>
      <a href="bloq.html" id="nav-blog" class="active">Blog</a>
      <span class="lang-switch">
        <a href="#" id="lang-es">ES</a> |
        <a href="#" id="lang-en">EN</a>
      </span>
    </nav>
  </header>
  <main>
    <section>
      <h2 id="news-title">Noticias y Novedades</h2>
      <div id="noticias">
        <!--
          Para cambiar el feed RSS predeterminado, edita la variable DEFAULT_RSS_URL en el script al final de este archivo.
          Puedes usar cualquier feed RSS público (ejemplo: tecnología, Amazon, etc).
        -->
        <input type="url" id="news-url" placeholder="Pega aquí el enlace de tu fuente de noticias (RSS o web)" style="width:80%;max-width:400px;">
        <button onclick="cargarNoticias()" id="btn-load-news">Cargar Noticias</button>
        <div id="news-feed" style="margin-top:20px;"></div>
      </div>
    </section>
    <section>
      <h2 id="amazon-title">Referencias de Amazon Shopping</h2>
      <div id="amazon-links">
        <!--
          Para cambiar los enlaces de Amazon, edita la variable AMAZON_LINKS en el script al final de este archivo.
          Puedes agregar, quitar o modificar enlaces según tus necesidades.
        -->
        <ul id="amazon-list"></ul>
        <p id="amazon-contact">¿Quieres que recomendemos productos específicos? <a href="mailto:exlo@expressloadout.com">¡Escríbenos!</a></p>
      </div>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Express Loadout</p>
  </footer>
  <script src="script.js"></script>
  <script>
    // --- Personalización: Cambia aquí el feed RSS predeterminado ---
    // Ejemplo: 'https://rss.nytimes.com/services/xml/rss/nyt/World.xml'
    const DEFAULT_RSS_URL = 'https://rss.nytimes.com/services/xml/rss/nyt/World.xml';

    // --- Personalización: Cambia aquí los enlaces de Amazon ---
    // Puedes agregar/quitar objetos del array según tus necesidades
    const AMAZON_LINKS = [
      { url: 'https://www.amazon.com/-/es/', textES: 'Amazon USA (Español)', textEN: 'Amazon USA (Spanish)' },
      { url: 'https://www.amazon.com/', textES: 'Amazon USA (Inglés)', textEN: 'Amazon USA (English)' },
      { url: 'https://www.amazon.com.mx/', textES: 'Amazon México', textEN: 'Amazon Mexico' },
      { url: 'https://www.amazon.es/', textES: 'Amazon España', textEN: 'Amazon Spain' },
      { url: 'https://www.amazon.com/s?k=ofertas', textES: 'Ofertas en Amazon USA', textEN: 'Deals on Amazon USA' }
    ];

    // --- Traducción dinámica y carga de enlaces de Amazon ---
    function renderAmazonLinks(lang) {
      const ul = document.getElementById('amazon-list');
      ul.innerHTML = '';
      AMAZON_LINKS.forEach(link => {
        const li = document.createElement('li');
        li.innerHTML = `<a href="${link.url}" target="_blank">${lang === 'en' ? link.textEN : link.textES}</a>`;
        ul.appendChild(li);
      });
    }

    // --- Noticias dinámicas desde RSS2JSON ---
    function cargarNoticias(url) {
      const feedDiv = document.getElementById('news-feed');
      if (!url) {
        url = document.getElementById('news-url').value || DEFAULT_RSS_URL;
      }
      feedDiv.innerHTML = '<em>Cargando noticias...</em>';
      fetch('https://api.rss2json.com/v1/api.json?rss_url=' + encodeURIComponent(url))
        .then(response => response.json())
        .then(data => {
          if (data.status === 'ok' && data.items && data.items.length > 0) {
            let html = '<ul>';
            data.items.slice(0, 8).forEach(item => {
              html += `<li><a href="${item.link}" target="_blank">${item.title}</a><br><small>${new Date(item.pubDate).toLocaleDateString()}</small></li>`;
            });
            html += '</ul>';
            feedDiv.innerHTML = html;
          } else {
            feedDiv.innerHTML = '<span style="color:red">No se pudieron cargar noticias de este enlace.</span>';
          }
        })
        .catch(() => {
          feedDiv.innerHTML = '<span style="color:red">Error al cargar noticias. Verifica el enlace o usa un RSS válido.</span>';
        });
    }

    // --- Traducción dinámica (es/en) ---
    function setBlogLang(lang) {
      // Títulos y textos
      document.documentElement.lang = lang;
      document.getElementById('meta-title').textContent = lang === 'en' ? 'Blog & News | Express Loadout' : 'Blog y Noticias | Express Loadout';
      document.getElementById('meta-description').setAttribute('content', lang === 'en' ? 'News, updates and useful Amazon Shopping references for Express Loadout users. Stay informed and get the best deals.' : 'Noticias, novedades y referencias de compras en Amazon con Express Loadout. Descubre tips, ofertas y novedades para importar a Panamá.');
      document.getElementById('og-title').setAttribute('content', lang === 'en' ? 'Blog & News | Express Loadout' : 'Blog y Noticias | Express Loadout');
      document.getElementById('og-description').setAttribute('content', lang === 'en' ? 'News, updates and useful Amazon Shopping references for Express Loadout users. Stay informed and get the best deals.' : 'Noticias, novedades y referencias de compras en Amazon con Express Loadout. Descubre tips, ofertas y novedades para importar a Panamá.');
      document.getElementById('twitter-title').setAttribute('content', lang === 'en' ? 'Blog & News | Express Loadout' : 'Blog y Noticias | Express Loadout');
      document.getElementById('twitter-description').setAttribute('content', lang === 'en' ? 'News, updates and useful Amazon Shopping references for Express Loadout users. Stay informed and get the best deals.' : 'Noticias, novedades y referencias de compras en Amazon con Express Loadout. Descubre tips, ofertas y novedades para importar a Panamá.');
      document.getElementById('header-title').textContent = 'Express Loadout';
      document.getElementById('nav-home').textContent = lang === 'en' ? 'Home' : 'Inicio';
      document.getElementById('nav-register').textContent = lang === 'en' ? 'Register' : 'Solicita tu Casillero';
      document.getElementById('nav-blog').textContent = lang === 'en' ? 'Blog' : 'Blog';
      document.getElementById('news-title').textContent = lang === 'en' ? 'News & Updates' : 'Noticias y Novedades';
      document.getElementById('news-url').placeholder = lang === 'en' ? 'Paste your news source link (RSS or web) here' : 'Pega aquí el enlace de tu fuente de noticias (RSS o web)';
      document.getElementById('btn-load-news').textContent = lang === 'en' ? 'Load News' : 'Cargar Noticias';
      document.getElementById('amazon-title').textContent = lang === 'en' ? 'Amazon Shopping References' : 'Referencias de Amazon Shopping';
      document.getElementById('amazon-contact').innerHTML = lang === 'en' ? 'Want us to recommend specific products? <a href="mailto:exlo@expressloadout.com">Write us!</a>' : '¿Quieres que recomendemos productos específicos? <a href="mailto:exlo@expressloadout.com">¡Escríbenos!</a>';
      renderAmazonLinks(lang);
      // Persistencia de idioma
      localStorage.setItem('lang', lang);
    }

    // --- Inicialización ---
    document.addEventListener('DOMContentLoaded', function() {
      // Idioma persistente
      let lang = localStorage.getItem('lang') || 'es';
      setBlogLang(lang);
      // Listeners de idioma
      document.getElementById('lang-es').onclick = function(e){e.preventDefault();setBlogLang('es');};
      document.getElementById('lang-en').onclick = function(e){e.preventDefault();setBlogLang('en');};
      // Carga automática de noticias
      cargarNoticias(DEFAULT_RSS_URL);
    });
  </script>
</body>
</html>
