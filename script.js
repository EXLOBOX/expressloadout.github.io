const texts = {
  es: {
    title: "Express Loadout",
    welcomeTitle: "Haz tus importaciones de forma econÃ³mica, rÃ¡pida y sencilla con nosotros servicio honestos, confiables y de calidad",
    description: "Ofrecemos servicios de mensajerÃ­a, compras e importaciones de carga desde China o USA hasta PanamÃ¡ cubriendo todo el proceso logÃ­stico puerta a puerta, hasta tu negocio, oficina o hogar.",
    lockerFormTitle: "Solicita tu Casillero",
    lockerFormDescription: "Haz clic en el siguiente enlace para solicitar tu casillero en USA o China.",
    lockerFormLink: "Solicita tu casillero",
    whatsappButtonCall: "ğŸ“± EscrÃ­benos por WhatsApp",
    servicesTitle: "Nuestros Servicios",
    service1: "ğŸ›’ Compras",
    service11: "Compras por internet sin necesidad de tener tarjeta de crÃ©dito. Te asesoramos y asistimos gratis, sin costos adicionales por manejo.",
    service2: "ğŸ“¦ Casillero",
    service22: "Te damos una direcciÃ³n en USA o China para que recibas tus compras, sobres, paquetes o importaciones hasta PanamÃ¡.",
    service3: "ğŸš¢ Freight MarÃ­timo",
    service33: "Traemos tu carga marÃ­tima desde China o USA desde 20 lbs mÃ­nimo, tÃº eliges el peso. Nosotros la llevamos hasta tu hogar o negocio.",
    service4: "âœˆï¸ Freight AÃ©reo",
    service44: "Carga o paqueterÃ­a aÃ©rea desde Estados Unidos hasta PanamÃ¡, sin costos por manejo ni cargos ocultos, con tarifa baja.",
    form_title: "Solicita tu Casillero",
    form_description: "Llena este formulario para registrarte y solicitar tu casillero en USA o China.",
    name: "Nombre y Apellido",
    email: "Correo ElectrÃ³nico",
    phone: "NÃºmero de Celular (WhatsApp)",
    id: "NÃºmero de IdentificaciÃ³n o RUC",
    submit: "Solicitar Casillero",
    contactTitle: "Contacto",
    contactWhatsapp: "ğŸ“± WhatsApp: +507 6521-0278",
    contactEmail: "ğŸ“§ Email: exlo@expressloadout.com",
    contactInstagram: "ğŸ“¸ Instagram",
    contactFacebook: "ğŸ“˜ Facebook",
    footer: "Â© 2025 Express Loadout",
    testimonialsTitle: "Clientes Felices",
    testimonial1Text: "â€œCon Express Loadout importÃ© desde China sin complicaciones 10 reformers para mi gimnacio de pilates. Fueron rÃ¡pidos, honestos, transparentes y hasta me ayudaron a subir toda la carga a mi negocio en un segundo piso. Â¡Recomendados!â€",
    testimonial1Author: "â€“ Adriana S., DueÃ±a de negocios",
    testimonial2Text: "â€œNecesitaba comprar unos equipos en Amazon y ellos se encargaron de todo. Muy profesionales y atentos principalmente el joven Jonathan muy diligente.â€",
    testimonial2Author: "â€“ Jennifer Rodriguez., Emprendedora",
    testimonial3Text: "â€œUsÃ© su casillero en USA y recibÃ­ todo en mi casa no solo PanamÃ¡, hasta Boquete Chiriqui sin costos ocultos. Excelente servicio.â€",
    testimonial3Author: "â€“ Lena E., Cliente frecuente",
    thanksTitle: "Â¡Gracias por tu registro!",
    thanksDesc: "Hemos recibido tu solicitud de casillero.<br>Pronto nos pondremos en contacto contigo para darte la bienvenida y los siguientes pasos.",
    backHome: "Volver al inicio"
  },
  en: {
    title: "Express Loadout",
    welcomeTitle: "Make your imports economical, fast and easy with us â€” honest, reliable and quality service",
    description: "We offer courier, shopping and cargo import services from China or the USA to Panama covering the entire door-to-door logistics process, to your business, office or home.",
    lockerFormTitle: "Request your PO-box",
    lockerFormDescription: "Click the link below to request your PO-box in the USA or China.",
    lockerFormLink: "Request your locker",
    whatsappButtonCall: "ğŸ“± Write us on WhatsApp",
    servicesTitle: "Our Services",
    service1: "ğŸ›’ Shopping",
    service11: "Online shopping without needing a credit card. We advise and assist you for free, with no extra handling fees.",
    service2: "ğŸ“¦ Locker",
    service22: "We provide you with a USA or China address to receive your purchases, letters, packages, or imports to Panama.",
    service3: "ğŸš¢ Ocean Freight",
    service33: "We bring your ocean freight from China or the USA starting at 20 lbs minimum, you choose the weight. We deliver it to your home or business.",
    service4: "âœˆï¸ Air Freight",
    service44: "Air cargo or packages from the United States to Panama, with no handling fees or hidden charges, at a low rate.",
    contact: "Contact Us",
    form_title: "Request Your Locker",
    form_description: "Fill out this form to register and request your locker in the USA or China.",
    name: "Full Name",
    email: "Email Address",
    phone: "Phone Number (WhatsApp)",
    id: "ID or RUC Number",
    submit: "Request Locker",
    contactTitle: "Contact",
    contactWhatsapp: "ğŸ“± WhatsApp: +507 6521-0278",
    contactEmail: "ğŸ“§ Email: exlo@expressloadout.com",
    contactInstagram: "ğŸ“¸ Instagram",
    contactFacebook: "ğŸ“˜ Facebook",
    footer: "Â© 2025 Express Loadout",
    testimonialsTitle: "Happy Clients",
    testimonial1Text: "â€œWith Express Loadout I imported 10 reformers for my pilates studio from China without complications. They were fast, honest, transparent and even helped me carry all the cargo to my business on a second floor. Highly recommended!â€",
    testimonial1Author: "â€“ Adriana S., Business Owner",
    testimonial2Text: "â€œI needed to buy some equipment on Amazon and they took care of everything. Very professional and attentive, especially Jonathan who was very diligent.â€",
    testimonial2Author: "â€“ Jennifer Rodriguez, Entrepreneur",
    testimonial3Text: "â€œI used their USA locker and received everything at my house, not just in Panama, but even in Boquete, Chiriqui with no hidden costs. Excellent service.â€",
    testimonial3Author: "â€“ Lena E., Frequent customer",
    thanksTitle: "Thank you for your registration!",
    thanksDesc: "We have received your locker request.<br>We will contact you soon to welcome you and explain the next steps.",
    backHome: "Back to home"
  }
};

// TraducciÃ³n para tiendas.html
const tiendasTranslations = {
  es: {
    navStores: 'Tiendas',
    storesTitle: 'Algunas de las tiendas',
    recommended: 'Productos recomendados',
    otherProducts: 'Otros productos',
    stores: [
      'Amazon','Ebay','TEMU','Aliexpress','SHEIN','RockAuto','WayFair','Taobao','SEPHORA','FAFUL','ROWme','alibaba','MadeInChina'
    ]
  },
  en: {
    navStores: 'Stores',
    storesTitle: 'Some of the stores',
    recommended: 'Recommended products',
    otherProducts: 'Other products',
    stores: [
      'Amazon','Ebay','TEMU','Aliexpress','SHEIN','RockAuto','WayFair','Taobao','SEPHORA','FAFUL','ROWme','alibaba','MadeInChina'
    ]
  }
};

function setStoresLang(lang) {
  // Solo aplicar traducciÃ³n si estamos en tiendas.html
  if (!document.body || !window.location.pathname.endsWith('tiendas.html')) return;
  const t = tiendasTranslations[lang] || tiendasTranslations['es'];
  const navStores = document.getElementById('nav-stores');
  if (navStores) navStores.textContent = t.navStores;
  const h2s = document.querySelectorAll('main section h2');
  if (h2s[0]) h2s[0].textContent = t.storesTitle;
  if (h2s[1]) h2s[1].textContent = t.recommended;
  const h3 = document.querySelector('main section h3');
  if (h3) h3.textContent = t.otherProducts;
}

// IntegraciÃ³n con el selector de idioma global
function setLanguage(lang) {
  // Verifica que los elementos existen antes de asignar
  const ids = [
    'title', 'welcome-title', 'description', 'locker-form-title', 'locker-form-description', 'locker-form-link',
    'whatsapp-button-call', 'services-title', 'service1', 'service11', 'service2', 'service22', 'service3', 'service33', 'service4', 'service44',
    'form_title', 'form_description', 'name', 'email', 'phone', 'id', 'submit',
    'testimonials-title', 'testimonial1-text', 'testimonial1-author', 'testimonial2-text', 'testimonial2-author', 'testimonial3-text', 'testimonial3-author',
    'contact-title', 'contact-whatsapp', 'contact-email', 'contact-instagram', 'contact-facebook', 'footer'
  ];
  ids.forEach(key => {
    const el = document.getElementById(key);
    if (el && texts[lang][key] !== undefined) {
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
        el.placeholder = texts[lang][key];
      } else if (el.tagName === 'A' && key === 'locker-form-link') {
        el.textContent = texts[lang][key];
      } else {
        el.textContent = texts[lang][key];
      }
    }
  });

  // TraducciÃ³n para locker-form-description y locker-form-title en caso de que existan duplicados fuera del scope de ids
  const lockerFormTitle = document.getElementById('locker-form-title');
  if (lockerFormTitle && texts[lang]['lockerFormTitle']) {
    lockerFormTitle.textContent = texts[lang]['lockerFormTitle'];
  }
  const lockerFormDescription = document.getElementById('locker-form-description');
  if (lockerFormDescription && texts[lang]['lockerFormDescription']) {
    lockerFormDescription.textContent = texts[lang]['lockerFormDescription'];
  }
  const lockerFormLink = document.getElementById('locker-form-link');
  if (lockerFormLink && texts[lang]['lockerFormLink']) {
    lockerFormLink.textContent = texts[lang]['lockerFormLink'];
  }
  const whatsappButtonCall = document.getElementById('whatsapp-button-call');
  if (whatsappButtonCall && texts[lang]['whatsappButtonCall']) {
    whatsappButtonCall.textContent = texts[lang]['whatsappButtonCall'];
  }

  // TraducciÃ³n para gracias.html
  const thanksIds = ['thanks-title', 'thanks-desc', 'back-home'];
  thanksIds.forEach(key => {
    const el = document.getElementById(key);
    if (el && texts[lang][key] !== undefined) {
      if (key === 'thanks-desc') {
        el.innerHTML = texts[lang][key];
      } else {
        el.textContent = texts[lang][key];
      }
    }
  });

  // TraducciÃ³n para tracking.html (encabezados y botones)
  const trackingTitle = document.querySelector('.tracking-section h2');
  if (trackingTitle && trackingTitle.textContent.match(/Rastrear mi paquete|Track my package/)) {
    trackingTitle.textContent = lang === 'en' ? 'Track my package and carrier' : 'Rastrear mi paquete y transportista';
  }
  const warehouseTitle = document.querySelectorAll('.tracking-section h2')[1];
  if (warehouseTitle) {
    warehouseTitle.textContent = lang === 'en' ? 'Confirm warehouse reception, paste Tracking' : 'Confirmar recepciÃ³n Warehouse, pegar Tracking';
  }
  const panamaTitle = document.querySelectorAll('.tracking-section h2')[2];
  if (panamaTitle) {
    panamaTitle.textContent = lang === 'en' ? 'Confirm Panama reception, paste Tracking' : 'Confirmar recepciÃ³n PanamÃ¡, pegar Tracking';
  }
  const warehouseBtn = document.querySelector('#warehouse-confirm-form button');
  if (warehouseBtn) {
    warehouseBtn.textContent = lang === 'en' ? 'Confirm Warehouse Reception' : 'Confirmar RecepciÃ³n Warehouse';
  }
  const panamaBtn = document.querySelector('#panama-confirm-form button');
  if (panamaBtn) {
    panamaBtn.textContent = lang === 'en' ? 'Confirm Panama Reception' : 'Confirmar RecepciÃ³n PanamÃ¡';
  }

  setStoresLang(lang);
}

document.addEventListener('DOMContentLoaded', function() {
  // Idioma por defecto
  let lang = localStorage.getItem('lang') || 'es';
  setLanguage(lang);
  setStoresLang(lang);
});
