const texts = {
  es: {
    title: "Express Loadout",
    welcomeTitle: "Haz tus importaciones de forma econ√≥mica, r√°pida y sencilla con nosotros servicio honestos, confiables y de calidad",
    description: "Ofrecemos servicios de mensajer√≠a, compras e importaciones de carga desde China o USA hasta Panam√° cubriendo todo el proceso log√≠stico puerta a puerta, hasta tu negocio, oficina o hogar.",
    lockerFormTitle: "Solicita tu Casillero",
    lockerFormDescription: "Haz clic en el siguiente enlace para solicitar tu casillero en USA o China.",
    lockerFormLink: "Solicita tu casillero",
    whatsappButtonCall: "üì± Escr√≠benos por WhatsApp",
    servicesTitle: "Nuestros Servicios",
    service1: "üõí Compras",
    service11: "Compras por internet sin necesidad de tener tarjeta de cr√©dito. Te asesoramos y asistimos gratis, sin costos adicionales por manejo.",
    service2: "üì¶ Casillero",
    service22: "Te damos una direcci√≥n en USA o China para que recibas tus compras, sobres, paquetes o importaciones hasta Panam√°.",
    service3: "üö¢ Freight Mar√≠timo",
    service33: "Traemos tu carga mar√≠tima desde China o USA desde 20 lbs m√≠nimo, t√∫ eliges el peso. Nosotros la llevamos hasta tu hogar o negocio.",
    service4: "‚úàÔ∏è Freight A√©reo",
    service44: "Carga o paqueter√≠a a√©rea desde Estados Unidos hasta Panam√°, sin costos por manejo ni cargos ocultos, con tarifa baja.",
    service5: "ü§ù Importaciones",
    service55: "Traemos compras al por mayor, asesor√°ndote y gestionando todo el proceso log√≠stico, desde selecci√≥n del proveedor, negociaci√≥n, hasta la entrega final en Panam√°.",
    form_title: "Solicita tu Casillero",
    form_description: "Llena este formulario para registrarte y solicitar tu casillero en USA o China.",
    name: "Nombre y Apellido",
    email: "Correo Electr√≥nico",
    phone: "N√∫mero de Celular (WhatsApp)",
    id: "N√∫mero de Identificaci√≥n o RUC",
    submit: "Solicitar Casillero",
    contactTitle: "Contacto",
    contactWhatsapp: "üì± WhatsApp: +507 6521-0278",
    contactEmail: "üìß Email: exlo@expressloadout.com",
    contactInstagram: "üì∏ Instagram",
    contactFacebook: "üìò Facebook",
    footer: "¬© 2025 Express Loadout",
    testimonialsTitle: "Clientes Felices",
    testimonial1Text: "‚ÄúCon Express Loadout import√© desde China sin complicaciones 10 reformers para mi gimnacio de pilates. Fueron r√°pidos, honestos, transparentes y hasta me ayudaron a subir toda la carga a mi negocio en un segundo piso. ¬°Recomendados!‚Äù",
    testimonial1Author: "‚Äì Adriana S., Due√±a de negocios",
    testimonial2Text: "‚ÄúNecesitaba comprar unos equipos en Amazon y ellos se encargaron de todo. Muy profesionales y atentos principalmente el joven Jonathan muy diligente.‚Äù",
    testimonial2Author: "‚Äì Jennifer Rodriguez., Emprendedora",
    testimonial3Text: "‚ÄúUs√© su casillero en USA y recib√≠ todo en mi casa no solo Panam√°, hasta Boquete Chiriqui sin costos ocultos. Excelente servicio.‚Äù",
    testimonial3Author: "‚Äì Lena E., Cliente frecuente",
    thanksTitle: "¬°Gracias por tu registro!",
    thanksDesc: "Hemos recibido tu solicitud de casillero.<br>Pronto nos pondremos en contacto contigo para darte la bienvenida y los siguientes pasos.",
    backHome: "Volver al inicio"
  },
  en: {
    title: "Express Loadout",
    welcomeTitle: "Make your imports economical, fast and easy with us ‚Äî honest, reliable and quality service",
    description: "We offer courier, shopping and cargo import services from China or the USA to Panama covering the entire door-to-door logistics process, to your business, office or home.",
    lockerFormTitle: "Request your PO-box",
    lockerFormDescription: "Click the link below to request your PO-box in the USA or China.",
    lockerFormLink: "Request your locker",
    whatsappButtonCall: "üì± Write us on WhatsApp",
    servicesTitle: "Our Services",
    service1: "üõí Shopping",
    service11: "Online shopping without needing a credit card. We advise and assist you for free, with no extra handling fees.",
    service2: "üì¶ Locker",
    service22: "We provide you with a USA or China address to receive your purchases, letters, packages, or imports to Panama.",
    service3: "üö¢ Ocean Freight",
    service33: "We bring your ocean freight from China or the USA starting at 20 lbs minimum, you choose the weight. We deliver it to your home or business.",
    service4: "‚úàÔ∏è Air Freight",
    service44: "Air cargo or packages from the United States to Panama, with no handling fees or hidden charges, at a low rate.",
    service5: "ü§ù Imports",
    service55: "We bring wholesale purchases, advising and managing the entire logistics process, from supplier selection, negotiation, to final delivery in Panama.",
    contact: "Contact Us",
    form_title: "Request Your Locker",
    form_description: "Fill out this form to register and request your locker in the USA or China.",
    name: "Full Name",
    email: "Email Address",
    phone: "Phone Number (WhatsApp)",
    id: "ID or RUC Number",
    submit: "Request Locker",
    contactTitle: "Contact",
    contactWhatsapp: "üì± WhatsApp: +507 6521-0278",
    contactEmail: "üìß Email: exlo@expressloadout.com",
    contactInstagram: "üì∏ Instagram",
    contactFacebook: "üìò Facebook",
    footer: "¬© 2025 Express Loadout",
    testimonialsTitle: "Happy Clients",
    testimonial1Text: "‚ÄúWith Express Loadout I imported 10 reformers for my pilates studio from China without complications. They were fast, honest, transparent and even helped me carry all the cargo to my business on a second floor. Highly recommended!‚Äù",
    testimonial1Author: "‚Äì Adriana S., Business Owner",
    testimonial2Text: "‚ÄúI needed to buy some equipment on Amazon and they took care of everything. Very professional and attentive, especially Jonathan who was very diligent.‚Äù",
    testimonial2Author: "‚Äì Jennifer Rodriguez, Entrepreneur",
    testimonial3Text: "‚ÄúI used their USA locker and received everything at my house, not just in Panama, but even in Boquete, Chiriqui with no hidden costs. Excellent service.‚Äù",
    testimonial3Author: "‚Äì Lena E., Frequent customer",
    thanksTitle: "Thank you for your registration!",
    thanksDesc: "We have received your locker request.<br>We will contact you soon to welcome you and explain the next steps.",
    backHome: "Back to home"
  }
};

// Traducci√≥n para tiendas.html
const tiendasTranslations = {
  es: {
    navStores: 'Tiendas',
    storesTitle: 'Algunas de las tiendas',
    recommended: 'Productos recomendados',
    otherProducts: 'Otros productos',
    stores: [
      'Amazon','Ebay','TEMU','Aliexpress','SHEIN','RockAuto','WayFair','Taobao','SEPHORA','FAFUL','ROWme','alibaba','MadeInChina'
    ]
  },
  en: {
    navStores: 'Stores',
    storesTitle: 'Some of the stores',
    recommended: 'Recommended products',
    otherProducts: 'Other products',
    stores: [
      'Amazon','Ebay','TEMU','Aliexpress','SHEIN','RockAuto','WayFair','Taobao','SEPHORA','FAFUL','ROWme','alibaba','MadeInChina'
    ]
  }
};

function setStoresLang(lang) {
  // Solo aplicar traducci√≥n si estamos en tiendas.html
  if (!document.body || !window.location.pathname.endsWith('tiendas.html')) return;
  const t = tiendasTranslations[lang] || tiendasTranslations['es'];
  const navStores = document.getElementById('nav-stores');
  if (navStores) navStores.textContent = t.navStores;
  const h2s = document.querySelectorAll('main section h2');
  if (h2s[0]) h2s[0].textContent = t.storesTitle;
  if (h2s[1]) h2s[1].textContent = t.recommended;
  const h3 = document.querySelector('main section h3');
  if (h3) h3.textContent = t.otherProducts;
}

// Integraci√≥n con el selector de idioma global
function setLanguage(lang) {
  // Verifica que los elementos existen antes de asignar
  const ids = [
    'title', 'welcome-title', 'description', 'locker-form-title', 'locker-form-description', 'locker-form-link',
    'whatsapp-button-call', 'services-title', 'service1', 'service11', 'service2', 'service22', 'service3', 'service33', 'service4', 'service44',
    'service5', 'service55',
    'form_title', 'form_description', 'name', 'email', 'phone', 'id', 'submit',
    'testimonials-title', 'testimonial1-text', 'testimonial1-author', 'testimonial2-text', 'testimonial2-author', 'testimonial3-text', 'testimonial3-author',
    'contact-title', 'contact-whatsapp', 'contact-email', 'contact-instagram', 'contact-facebook', 'footer'
  ];
  ids.forEach(key => {
    const el = document.getElementById(key);
    if (el && texts[lang][key] !== undefined) {
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
        el.placeholder = texts[lang][key];
      } else if (el.tagName === 'A' && key === 'locker-form-link') {
        el.textContent = texts[lang][key];
      } else {
        el.textContent = texts[lang][key];
      }
    }
  });

  // Traducci√≥n para locker-form-description y locker-form-title en caso de que existan duplicados fuera del scope de ids
  const lockerFormTitle = document.getElementById('locker-form-title');
  if (lockerFormTitle && texts[lang]['lockerFormTitle']) {
    lockerFormTitle.textContent = texts[lang]['lockerFormTitle'];
  }
  const lockerFormDescription = document.getElementById('locker-form-description');
  if (lockerFormDescription && texts[lang]['lockerFormDescription']) {
    lockerFormDescription.textContent = texts[lang]['lockerFormDescription'];
  }
  const lockerFormLink = document.getElementById('locker-form-link');
  if (lockerFormLink && texts[lang]['lockerFormLink']) {
    lockerFormLink.textContent = texts[lang]['lockerFormLink'];
  }
  const whatsappButtonCall = document.getElementById('whatsapp-button-call');
  if (whatsappButtonCall && texts[lang]['whatsappButtonCall']) {
    whatsappButtonCall.textContent = texts[lang]['whatsappButtonCall'];
  }

  // Traducci√≥n para gracias.html
  const thanksIds = ['thanks-title', 'thanks-desc', 'back-home'];
  thanksIds.forEach(key => {
    const el = document.getElementById(key);
    if (el && texts[lang][key] !== undefined) {
      if (key === 'thanks-desc') {
        el.innerHTML = texts[lang][key];
      } else {
        el.textContent = texts[lang][key];
      }
    }
  });

  // Traducci√≥n para tracking.html (encabezados y botones)
  const trackingTitle = document.querySelector('.tracking-section h2');
  if (trackingTitle && trackingTitle.textContent.match(/Rastrear mi paquete|Track my package/)) {
    trackingTitle.textContent = lang === 'en' ? 'Track my package and carrier' : 'Rastrear mi paquete y transportista';
  }
  const warehouseTitle = document.querySelectorAll('.tracking-section h2')[1];
  if (warehouseTitle) {
    warehouseTitle.textContent = lang === 'en' ? 'Confirm warehouse reception, paste Tracking' : 'Confirmar recepci√≥n Warehouse, pegar Tracking';
  }
  const panamaTitle = document.querySelectorAll('.tracking-section h2')[2];
  if (panamaTitle) {
    panamaTitle.textContent = lang === 'en' ? 'Confirm Panama reception, paste Tracking' : 'Confirmar recepci√≥n Panam√°, pegar Tracking';
  }
  const warehouseBtn = document.querySelector('#warehouse-confirm-form button');
  if (warehouseBtn) {
    warehouseBtn.textContent = lang === 'en' ? 'Confirm Warehouse Reception' : 'Confirmar Recepci√≥n Warehouse';
  }
  const panamaBtn = document.querySelector('#panama-confirm-form button');
  if (panamaBtn) {
    panamaBtn.textContent = lang === 'en' ? 'Confirm Panama Reception' : 'Confirmar Recepci√≥n Panam√°';
  }

  setStoresLang(lang);
}

document.addEventListener('DOMContentLoaded', function() {
  // Idioma por defecto
  let lang = localStorage.getItem('lang') || 'es';
  setLanguage(lang);
  setStoresLang(lang);
});
